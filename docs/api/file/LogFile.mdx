---
name: LogFile class
route: /api/file/LogFile
menu: Instance File APIs
---

# `LogFile` class

Represents a log file generated by a Minecraft server instance.

This class extends [`TextFile`](./TextFile).

## File Format

The latest log file generated by the instance is always stored in plaintext as `latest.log`. When a new log file is started, old ones are compressed using gzip, and stored as `YYYY-MM-DD.N.log.gz`, where `N` is an incrementing number.

All log files (once decompressed) have entries of the following format:

```log
[<timestamp>] [<thread>/<log level>] [<mod>]: <message>
```

So, for example:

```log
[07:44:59] [Dynmap Render Thread/INFO] [Dynmap]: [Dynmap] Loading resource pack standard
[07:45:02] [Server thread/INFO] [weirdinggadget]: All players have gone offline. Ticket is scheduled to expire at world time 66399423
[07:45:02] [Server thread/INFO] [weirdinggadget]: All players have gone offline. Ticket is scheduled to expire at world time 66399423
[07:45:02] [Server thread/INFO] [weirdinggadget]: All players have gone offline. Ticket is scheduled to expire at world time 66399423
[07:45:15] [Server thread/WARN] [net.minecraft.server.MinecraftServer]: Can't keep up! Did the system time change, oris the server overloaded? Running 4079ms behind, skipping 81 tick(s)
[07:45:45] [Server thread/INFO] [antiqueatlas]: Saving local markers data to NBT
[07:45:46] [Server thread/INFO] [FML]: Unloading dimension20
```

## Static Methods

### `constructor`

Instantiates a new instance of `LogFile`.

#### Parameters

1. `path: string`

   The path to the log file on disk.

2. `compressed?: boolean`

   If true, the file will be treated as gzip; if false, it will be treated as plain text. If omitted, the compression will be automatically detected from the file extension.

## Instance Methods

### `readLast`

Reads the last `n` entries from the log file.

#### Parameters

1. `lines: number`

   The maximum of entries to return.

### `tail`

Watches a log file, calling `lineCallback` with each new entry that is written to the file.

#### Parameters

1. `lineCallback: (LogEntry) => void`

   A method to call with each new log entry that is written to the file.

2. `errorCallback: (Error) => void`

   A method that will be called if any errors occur while reading from the file.

### `tailRaw`

Watches a log file, callign `lineCallback` with each new raw line of text that is written to the file. The parameters are identical to that of `tail`, except that `lineCallback` accepts a string, not a `LogEntry`.
